<!DOCTYPE html>
<html>
<head>
    <link href="prism.css" rel="stylesheet" />
</head>
<body>
    <pre><code class="language-cs">static async Task Main(string[] args)
{
    Console.WriteLine("Starts Main. Worker threads count = " +
                        ThreadPoolThreadCounter.WorkerThreads);

    Task simulateTask = SimulateAsync();

    Console.WriteLine("Continues Main. Worker threads count = " + 
                        ThreadPoolThreadCounter.WorkerThreads);
    
    await simulateTask;

    Console.WriteLine("Ends Main. Worker threads count = " + 
                        ThreadPoolThreadCounter.WorkerThreads);
}

static async Task SimulateAsync()
{
    Console.WriteLine("Starts SimulateAsync. Worker threads count = " + 
                        ThreadPoolThreadCounter.WorkerThreads);

    await Task.Delay(1);

    Console.WriteLine("Ends SimulateAsync. Worker threads count = " +
        ThreadPoolThreadCounter.WorkerThreads); ;
}</code></pre>
    <script src="prism.js"></script></body>
    </html>